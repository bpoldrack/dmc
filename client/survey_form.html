<!DOCTYPE HTML>
<html>
<head>
    <title>Getting Started Sample</title>
    <meta charset="UTF-8">

    <link type="text/css" rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="http://code.cloudcms.com/alpaca/1.5.14/bootstrap/alpaca.min.css">

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/handlebars.js/3.0.3/handlebars.js"></script>
    <script type="text/javascript" src="http://code.cloudcms.com/alpaca/1.5.14/bootstrap/alpaca.min.js"></script>
</head>
<body>
<div class="container" style="margin-top:30px">
    <div class="row">
        <div class="col-md-12">
            <div id="survey"></div>
        </div>
    </div>
</div>

<script type="text/javascript">
$(document).ready(function() {
    $("#field1").alpaca({
        "schema": {
            "type": "object",
            "properties": {
                "name": {
                    "type": "string",
                    "title": "Name"
                },
                "age": {
                    "type": "number",
                    "title": "Aged"
                }
            }
        },
        "data": {
            "name": "Conan the Barbarian",
            "age": 32
        }

        /** add in this section to experiment with a form button */
        ,"options": {
            "form": {
                "buttons": {
                    "submit": {
                        "title": "Sub",
                        "click": function() {
                            var val = this.getValue();
                            $.ajax({
                                type: "POST",
                                contentType: 'application/json',
                                url: "http://localhost:8080/submit",
                                data: JSON.stringify(val),
                                success: function(msg) { alert('Yay ' + msg) },
                                error: function(xhr, ajaxOptions, thrownError) {
                                       alert(xhr.status);
                                       alert(ajaxOptions);
                                       alert(thrownError);
                                }
                            });
                        }
                    }
                }
            }
        }
    });
});
</script>
</body>
</html>
